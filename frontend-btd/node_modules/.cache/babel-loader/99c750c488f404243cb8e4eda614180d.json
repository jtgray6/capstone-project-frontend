{"remainingRequest":"/Users/jeremygray/Flatiron School/Mod5/project-frontend/frontend-btd/node_modules/babel-loader/lib/index.js!/Users/jeremygray/Flatiron School/Mod5/project-frontend/frontend-btd/node_modules/eslint-loader/index.js??ref--13-0!/Users/jeremygray/Flatiron School/Mod5/project-frontend/frontend-btd/src/store/authentication.module.js","dependencies":[{"path":"/Users/jeremygray/Flatiron School/Mod5/project-frontend/frontend-btd/src/store/authentication.module.js","mtime":1586730677755},{"path":"/Users/jeremygray/Flatiron School/Mod5/project-frontend/frontend-btd/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeremygray/Flatiron School/Mod5/project-frontend/frontend-btd/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jeremygray/Flatiron School/Mod5/project-frontend/frontend-btd/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlclNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyJzsKdmFyIHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwp2YXIgaW5pdGlhbFN0YXRlID0gdXNlciA/IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZEluOiB0cnVlCiAgfSwKICB1c2VyOiB1c2VyCn0gOiB7CiAgc3RhdHVzOiB7fSwKICB1c2VyOiBudWxsCn07CmV4cG9ydCB2YXIgYXV0aGVudGljYXRpb24gPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogaW5pdGlhbFN0YXRlLAogIGFjdGlvbnM6IHsKICAgIHNpZ251cDogZnVuY3Rpb24gc2lnbnVwKF9yZWYsIF9yZWYyKSB7CiAgICAgIHZhciBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsCiAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgdmFyIGVtYWlsID0gX3JlZjIuZW1haWwsCiAgICAgICAgICB1c2VybmFtZSA9IF9yZWYyLnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQgPSBfcmVmMi5wYXNzd29yZDsKICAgICAgY29tbWl0KCdzaWdudXBSZXF1ZXN0Jyk7CiAgICAgIHVzZXJTZXJ2aWNlLmQoZW1haWwsIHVzZXJuYW1lLCBwYXNzd29yZCkudGhlbihmdW5jdGlvbiAodXNlcikgewogICAgICAgIGNvbW1pdCgnc2lnbnVwU3VjY2VzcycsIHVzZXIpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ3NpZ251cEZhaWx1cmUnKTsKICAgICAgICBkaXNwYXRjaCgnYWxlcnQvZXJyb3InLCBlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmMywgX3JlZjQpIHsKICAgICAgdmFyIGRpc3BhdGNoID0gX3JlZjMuZGlzcGF0Y2gsCiAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIHZhciB1c2VybmFtZSA9IF9yZWY0LnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQgPSBfcmVmNC5wYXNzd29yZDsKICAgICAgY29tbWl0KCdsb2dpblJlcXVlc3QnLCB7CiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lCiAgICAgIH0pOwogICAgICB1c2VyU2VydmljZS5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICBjb21taXQoJ2xvZ2luU3VjY2VzcycsIHVzZXIpOwogICAgICAgIHJvdXRlci5wdXNoKCcvaG9tZScpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ2xvZ2luRmFpbHVyZScsIGVycm9yKTsKICAgICAgICBkaXNwYXRjaCgnYWxlcnQvZXJyb3InLCBlcnJvciwgewogICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmNSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICB1c2VyU2VydmljZS5sb2dvdXQoKTsKICAgICAgY29tbWl0KCdsb2dvdXQnKTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2lnbnVwUmVxdWVzdDogZnVuY3Rpb24gc2lnbnVwUmVxdWVzdChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSB7CiAgICAgICAgc2lnbmluZ1VwOiB0cnVlCiAgICAgIH07CiAgICB9LAogICAgc2lnbnVwU3VjY2VzczogZnVuY3Rpb24gc2lnbnVwU3VjY2VzcyhzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSB7CiAgICAgICAgc2lnbmVkVXA6IHRydWUKICAgICAgfTsKICAgIH0sCiAgICBzaWdudXBGYWlsdXJlOiBmdW5jdGlvbiBzaWdudXBGYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9IHt9OwogICAgfSwKICAgIGxvZ2luUmVxdWVzdDogZnVuY3Rpb24gbG9naW5SZXF1ZXN0KHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9IHsKICAgICAgICBsb2dnaW5nSW46IHRydWUKICAgICAgfTsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAogICAgbG9naW5TdWNjZXNzOiBmdW5jdGlvbiBsb2dpblN1Y2Nlc3Moc3RhdGUsIHVzZXIpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gewogICAgICAgIGxvZ2dlZEluOiB0cnVlCiAgICAgIH07CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIGxvZ2luRmFpbHVyZTogZnVuY3Rpb24gbG9naW5GYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9IHt9OwogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSB7fTsKICAgICAgc3RhdGUudXNlciA9IG51bGw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/jeremygray/Flatiron School/Mod5/project-frontend/frontend-btd/src/store/authentication.module.js"],"names":["userService","router","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","authentication","namespaced","state","actions","signup","dispatch","commit","email","username","password","d","then","error","login","push","root","logout","mutations","signupRequest","signingUp","signupSuccess","signedUp","signupFailure","loginRequest","loggingIn","loginSuccess","loginFailure"],"mappings":"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","sourcesContent":["import { userService } from '../services';\nimport router from '../router';\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user\n    ? { status: { loggedIn: true }, user }\n    : { status: {}, user: null };\n\nexport const authentication = {\n    namespaced: true,\n    state: initialState,\n    actions: {\n        signup({dispatch, commit}, {email, username, password}) {\n            commit('signupRequest');\n\n            userService.d(email, username, password)\n                .then(\n                    user => {\n                        commit('signupSuccess', user);\n                    },\n                    error => {\n                        commit('signupFailure');\n                        dispatch('alert/error', error)\n                    }\n                )\n        },\n        login({ dispatch, commit }, { username, password }) {\n            commit('loginRequest', { username });\n\n            userService.login(username, password)\n                .then(\n                    user => {\n                        commit('loginSuccess', user);\n                        router.push('/home');\n                    },\n                    error => {\n                        commit('loginFailure', error);\n                        dispatch('alert/error', error, { root: true });\n                    }\n                );\n        },\n        logout({ commit }) {\n            userService.logout();\n            commit('logout');\n        }\n    },\n    mutations: {\n        signupRequest(state) {\n            state.status = { signingUp: true };\n        },\n        signupSuccess(state) {\n            state.status = {signedUp: true};\n        },\n        signupFailure(state) {\n            state.status = {}\n        },\n        loginRequest(state, user) {\n            state.status = { loggingIn: true };\n            state.user = user;\n        },\n        loginSuccess(state, user) {\n            state.status = { loggedIn: true };\n            state.user = user;\n        },\n        loginFailure(state) {\n            state.status = {};\n            state.user = null;\n        },\n        logout(state) {\n            state.status = {};\n            state.user = null;\n        }\n    }\n}"]}]}