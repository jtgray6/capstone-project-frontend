{"remainingRequest":"/Users/jeremygray/Flatiron School/Mod5/project/frontend-btd/node_modules/babel-loader/lib/index.js!/Users/jeremygray/Flatiron School/Mod5/project/frontend-btd/node_modules/eslint-loader/index.js??ref--13-0!/Users/jeremygray/Flatiron School/Mod5/project/frontend-btd/src/store/authentication.module.js","dependencies":[{"path":"/Users/jeremygray/Flatiron School/Mod5/project/frontend-btd/src/store/authentication.module.js","mtime":1586540999748},{"path":"/Users/jeremygray/Flatiron School/Mod5/project/frontend-btd/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeremygray/Flatiron School/Mod5/project/frontend-btd/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jeremygray/Flatiron School/Mod5/project/frontend-btd/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlclNlcnZpY2UgfSBmcm9tICcuLi9fc2VydmljZXMnOwppbXBvcnQgeyByb3V0ZXIgfSBmcm9tICcuLi9yb3V0ZXIvaW5kZXgnOwp2YXIgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSk7CnZhciBpbml0aWFsU3RhdGUgPSB1c2VyID8gewogIHN0YXR1czogewogICAgbG9nZ2VkSW46IHRydWUKICB9LAogIHVzZXI6IHVzZXIKfSA6IHsKICBzdGF0dXM6IHt9LAogIHVzZXI6IG51bGwKfTsKZXhwb3J0IHZhciBhdXRoZW50aWNhdGlvbiA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBpbml0aWFsU3RhdGUsCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIF9yZWYyKSB7CiAgICAgIHZhciBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsCiAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgdmFyIHVzZXJuYW1lID0gX3JlZjIudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZCA9IF9yZWYyLnBhc3N3b3JkOwogICAgICBjb21taXQoJ2xvZ2luUmVxdWVzdCcsIHsKICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUKICAgICAgfSk7CiAgICAgIHVzZXJTZXJ2aWNlLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCkudGhlbihmdW5jdGlvbiAodXNlcikgewogICAgICAgIGNvbW1pdCgnbG9naW5TdWNjZXNzJywgdXNlcik7CiAgICAgICAgcm91dGVyLnB1c2goJy8nKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29tbWl0KCdsb2dpbkZhaWx1cmUnLCBlcnJvcik7CiAgICAgICAgZGlzcGF0Y2goJ2FsZXJ0L2Vycm9yJywgZXJyb3IsIHsKICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgdXNlclNlcnZpY2UubG9nb3V0KCk7CiAgICAgIGNvbW1pdCgnbG9nb3V0Jyk7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGxvZ2luUmVxdWVzdDogZnVuY3Rpb24gbG9naW5SZXF1ZXN0KHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9IHsKICAgICAgICBsb2dnaW5nSW46IHRydWUKICAgICAgfTsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAogICAgbG9naW5TdWNjZXNzOiBmdW5jdGlvbiBsb2dpblN1Y2Nlc3Moc3RhdGUsIHVzZXIpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gewogICAgICAgIGxvZ2dlZEluOiB0cnVlCiAgICAgIH07CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIGxvZ2luRmFpbHVyZTogZnVuY3Rpb24gbG9naW5GYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9IHt9OwogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSB7fTsKICAgICAgc3RhdGUudXNlciA9IG51bGw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/jeremygray/Flatiron School/Mod5/project/frontend-btd/src/store/authentication.module.js"],"names":["userService","router","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","authentication","namespaced","state","actions","login","dispatch","commit","username","password","then","push","error","root","logout","mutations","loginRequest","loggingIn","loginSuccess","loginFailure"],"mappings":"AAAA,SAASA,WAAT,QAA4B,cAA5B;AACA,SAASC,MAAT,QAAuB,iBAAvB;AAEA,IAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,IAAMC,YAAY,GAAGL,IAAI,GACnB;AAAEM,EAAAA,MAAM,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAV;AAA8BP,EAAAA,IAAI,EAAJA;AAA9B,CADmB,GAEnB;AAAEM,EAAAA,MAAM,EAAE,EAAV;AAAcN,EAAAA,IAAI,EAAE;AAApB,CAFN;AAIA,OAAO,IAAMQ,cAAc,GAAG;AAC1BC,EAAAA,UAAU,EAAE,IADc;AAE1BC,EAAAA,KAAK,EAAEL,YAFmB;AAG1BM,EAAAA,OAAO,EAAE;AACLC,IAAAA,KADK,8BAC+C;AAAA,UAA5CC,QAA4C,QAA5CA,QAA4C;AAAA,UAAlCC,MAAkC,QAAlCA,MAAkC;AAAA,UAAtBC,QAAsB,SAAtBA,QAAsB;AAAA,UAAZC,QAAY,SAAZA,QAAY;AAChDF,MAAAA,MAAM,CAAC,cAAD,EAAiB;AAAEC,QAAAA,QAAQ,EAARA;AAAF,OAAjB,CAAN;AAEAjB,MAAAA,WAAW,CAACc,KAAZ,CAAkBG,QAAlB,EAA4BC,QAA5B,EACKC,IADL,CAEQ,UAAAjB,IAAI,EAAI;AACJc,QAAAA,MAAM,CAAC,cAAD,EAAiBd,IAAjB,CAAN;AACAD,QAAAA,MAAM,CAACmB,IAAP,CAAY,GAAZ;AACH,OALT,EAMQ,UAAAC,KAAK,EAAI;AACLL,QAAAA,MAAM,CAAC,cAAD,EAAiBK,KAAjB,CAAN;AACAN,QAAAA,QAAQ,CAAC,aAAD,EAAgBM,KAAhB,EAAuB;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAvB,CAAR;AACH,OATT;AAWH,KAfI;AAgBLC,IAAAA,MAhBK,yBAgBc;AAAA,UAAVP,MAAU,SAAVA,MAAU;AACfhB,MAAAA,WAAW,CAACuB,MAAZ;AACAP,MAAAA,MAAM,CAAC,QAAD,CAAN;AACH;AAnBI,GAHiB;AAwB1BQ,EAAAA,SAAS,EAAE;AACPC,IAAAA,YADO,wBACMb,KADN,EACaV,IADb,EACmB;AACtBU,MAAAA,KAAK,CAACJ,MAAN,GAAe;AAAEkB,QAAAA,SAAS,EAAE;AAAb,OAAf;AACAd,MAAAA,KAAK,CAACV,IAAN,GAAaA,IAAb;AACH,KAJM;AAKPyB,IAAAA,YALO,wBAKMf,KALN,EAKaV,IALb,EAKmB;AACtBU,MAAAA,KAAK,CAACJ,MAAN,GAAe;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAf;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAaA,IAAb;AACH,KARM;AASP0B,IAAAA,YATO,wBASMhB,KATN,EASa;AAChBA,MAAAA,KAAK,CAACJ,MAAN,GAAe,EAAf;AACAI,MAAAA,KAAK,CAACV,IAAN,GAAa,IAAb;AACH,KAZM;AAaPqB,IAAAA,MAbO,kBAaAX,KAbA,EAaO;AACVA,MAAAA,KAAK,CAACJ,MAAN,GAAe,EAAf;AACAI,MAAAA,KAAK,CAACV,IAAN,GAAa,IAAb;AACH;AAhBM;AAxBe,CAAvB","sourcesContent":["import { userService } from '../_services';\nimport { router } from '../router/index';\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user\n    ? { status: { loggedIn: true }, user }\n    : { status: {}, user: null };\n\nexport const authentication = {\n    namespaced: true,\n    state: initialState,\n    actions: {\n        login({ dispatch, commit }, { username, password }) {\n            commit('loginRequest', { username });\n\n            userService.login(username, password)\n                .then(\n                    user => {\n                        commit('loginSuccess', user);\n                        router.push('/');\n                    },\n                    error => {\n                        commit('loginFailure', error);\n                        dispatch('alert/error', error, { root: true });\n                    }\n                );\n        },\n        logout({ commit }) {\n            userService.logout();\n            commit('logout');\n        }\n    },\n    mutations: {\n        loginRequest(state, user) {\n            state.status = { loggingIn: true };\n            state.user = user;\n        },\n        loginSuccess(state, user) {\n            state.status = { loggedIn: true };\n            state.user = user;\n        },\n        loginFailure(state) {\n            state.status = {};\n            state.user = null;\n        },\n        logout(state) {\n            state.status = {};\n            state.user = null;\n        }\n    }\n}"]}]}